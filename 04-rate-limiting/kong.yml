_format_version: "3.0"
_transform: true

# Services
services:
  - name: go-mock-api
    url: http://go-mock-api-1:3001
    protocol: http
    host: go-mock-api-1
    port: 3001
    path: /
    connect_timeout: 60000
    write_timeout: 60000
    read_timeout: 60000
    retries: 5

# Routes  
routes:
  - name: api-route
    service: go-mock-api
    protocols: [http, https]
    methods: [GET, POST]
    paths: [/api]
    strip_path: true
    preserve_host: false

# Plugins
plugins:
  # Rate limiting (5 req/min, 100 req/hour)
  - name: rate-limiting
    route: api-route
    config:
      minute: 5
      hour: 100
      policy: local
      hide_client_headers: false
